!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).acejs={})}(this,function(n){"use strict";var e=new Map;function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(n)}function o(n){return null!==n&&"object"===t(n)&&!Array.isArray(n)}function r(n,e){var t=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();null==e?this.removeAttribute(t):this.setAttribute(t,e.toString())}function i(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.shadowRoot?t?Array.from(n.shadowRoot.querySelectorAll(e))||null:n.shadowRoot.querySelector(e):null}var u=new WeakMap,c=new Set,a=null,f=!1;function l(n,e){if(a){var t=u.get(n);t||(t=new Map,u.set(n,t));var o=t.get(e);o||(o=new Set,t.set(e,o)),o.add(a)}}function d(n,e){var t=u.get(n);if(t){var o=t.get(e);o&&o.forEach(function(n){return c.add(n)}),f||(f=!0,queueMicrotask(function(){c.forEach(function(n){return n()}),c.clear(),f=!1}))}}function s(n,e){return o(n)?new Proxy(n,{get:function(n,t,r){var i=Reflect.get(n,t,r);return null!=e&&e.deep&&o(i)?s(i,e):(l(n,t),i)},set:function(n,e,t,o){if(Reflect.get(n,e,o)===t)return!0;var r=Reflect.set(n,e,t,o);return d(n,e),r}}):n}n.attribute=function(n,e){if("field"!==e.kind)throw new Error('@attribute can only be used on fields, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var n=e.name,t=s({value:this[n]});r.call(this,n,t.value),Object.defineProperty(this,n,{get:function(){return t.value},set:function(e){e!==t.value&&(t.value=e,r.call(this,n,e))}})})},n.bound=function(n,e){if("method"!==e.kind)throw new Error('@bound can only be used on methods, not on "'.concat(e.kind,'"'));e.addInitializer(function(){this[e.name]=this[e.name].bind(this)})},n.computed=function(n,e){if("field"!==e.kind)throw new Error('@computed can only be used on fields, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var n=function(n){var e,t=!0,o=function(){t=!0,d(r,"value")},r=s({get value(){return t&&(a=o,e=n(),a=null,t=!1),l(r,"value"),e}});return r}(this[e.name].bind(this));Object.defineProperty(this,e.name,{get:function(){return n.value}})})},n.customElement=function(n){return function(e,t){if("class"!==t.kind)throw new Error('@customElement can only be used on classes, not on "'.concat(t.kind,'"'));t.addInitializer(function(){return customElements.define(n,e)})}},n.effect=function(n,e){if("method"!==e.kind)throw new Error('@effect can only be used on methods, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var e=n.bind(this);queueMicrotask(function(){return a=n=e,n(),void(a=null);var n})})},n.inject=function(n){return function(t,o){return"field"===o.kind?function(){return e.get(n)}:"method"===o.kind?function(){for(var o=e.get(n),r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return t.apply(this,[].concat(i,[o]))}:void 0}},n.property=function(n,e){if("field"!==e.kind)throw new Error('@property can only be used on fields, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var n=s({value:this[e.name]});Object.defineProperty(this,e.name,{get:function(){return n.value},set:function(e){n.value=e}})})},n.provide=function(n){return function(t,o){if("class"!==o.kind)throw new Error('@Service can only be used on classes, not on "'.concat(o.kind,'"'));e.set(n,new t)}},n.query=function(n){return function(e,t){if("field"!==t.kind)throw new Error('@query can only be used on fields, not on "'.concat(t.kind,'"'));t.addInitializer(function(){Object.defineProperty(this,t.name,{get:function(){return i(this,n,!1)},configurable:!0,enumerable:!0})})}},n.queryAll=function(n){return function(e,t){if("field"!==t.kind)throw new Error('@queryAll can only be used on fields, not on "'.concat(t.kind,'"'));t.addInitializer(function(){Object.defineProperty(this,t.name,{get:function(){return i(this,n,!0)},configurable:!0,enumerable:!0})})}},n.state=function(n,e){if("field"!==e.kind)throw new Error('@state can only be used on fields, not on "'.concat(e.kind,'"'));return function(n){return s(n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}});
//# sourceMappingURL=acejs.min.js.map

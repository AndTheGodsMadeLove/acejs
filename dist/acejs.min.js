!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).acejs={})}(this,function(n){"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e(n)}function t(n){return null!==n&&"object"===e(n)&&!Array.isArray(n)}var o=new Map,i=new WeakMap,r=new Set,u=null,c=!1;function f(n,e){if(u){var t=i.get(n);t||(t=new Map,i.set(n,t));var o=t.get(e);o||(o=new Set,t.set(e,o)),o.add(u)}}function a(n,e){var t=i.get(n);if(t){var o=t.get(e);o&&o.forEach(function(n){return r.add(n)}),c||(c=!0,queueMicrotask(function(){r.forEach(function(n){return n()}),r.clear(),c=!1}))}}function d(n,e){return t(n)?new Proxy(n,{get:function(n,o,i){var r=Reflect.get(n,o,i);return null!=e&&e.deep&&t(r)?d(r,e):(f(n,o),r)},set:function(n,e,t,o){if(Reflect.get(n,e,o)===t)return!0;var i=Reflect.set(n,e,t,o);return a(n,e),i}}):n}function l(n,e){var t=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();null==e?this.removeAttribute(t):this.setAttribute(t,e.toString())}n.Bound=function(n,e){if("method"!==e.kind)throw new Error('@Bound can only be used on methods, not on "'.concat(e.kind,'"'));e.addInitializer(function(){this[e.name]=this[e.name].bind(this)})},n.Computed=function(n,e){if("field"!==e.kind)throw new Error('@Computed can only be used on fields, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var n=function(n){var e,t=!0,o=function(){t=!0,a(i,"value")},i=d({get value(){return t&&(u=o,e=n(),u=null,t=!1),f(i,"value"),e}});return i}(this[e.name].bind(this));Object.defineProperty(this,e.name,{get:function(){return n.value}})})},n.CustomElement=function(n){return function(e,t){if("class"!==t.kind)throw new Error('@CustomElement can only be used on classes, not on "'.concat(t.kind,'"'));t.addInitializer(function(){return customElements.define(n,e)})}},n.Effect=function(n,e){if("method"!==e.kind)throw new Error('@Effect can only be used on methods, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var e=n.bind(this);queueMicrotask(function(){return u=n=e,n(),void(u=null);var n})})},n.Inject=function(n){return function(e,t){return"field"===t.kind?function(){return o.get(n)}:"method"===t.kind?function(){for(var t=o.get(n),i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return e.apply(this,[].concat(r,[t]))}:void 0}},n.Reactive=function(n,e){if("field"!==e.kind)throw new Error('@Reactive can only be used on fields, not on "'.concat(e.kind,'"'));return function(n){return d(n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},n.Ref=function(n,e){if("field"!==e.kind)throw new Error('@Ref can only be used on fields, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var n=d({value:this[e.name]});Object.defineProperty(this,e.name,{get:function(){return n.value},set:function(e){n.value=e}})})},n.Reflected=function(n,e){if("field"!==e.kind)throw new Error('@Reflected can only be used on fields, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var n=e.name,t=d({value:this[n]});l.call(this,n,t.value),Object.defineProperty(this,n,{get:function(){return t.value},set:function(e){e!==t.value&&(t.value=e,l.call(this,n,e))}})})},n.Service=function(n){return function(e,t){if("class"!==t.kind)throw new Error('@Service can only be used on classes, not on "'.concat(t.kind,'"'));o.set(n,new e)}},n.isObject=t});
//# sourceMappingURL=acejs.min.js.map

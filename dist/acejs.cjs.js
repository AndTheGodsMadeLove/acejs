"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n(e)}function e(e){return null!==e&&"object"===n(e)&&!Array.isArray(e)}var t=new Map;var o=new WeakMap,r=new Set,i=null,u=!1;function c(n,e){if(i){var t=o.get(n);t||(t=new Map,o.set(n,t));var r=t.get(e);r||(r=new Set,t.set(e,r)),r.add(i)}}function a(n,e){var t=o.get(n);if(t){var i=t.get(e);i&&i.forEach(function(n){return r.add(n)}),u||(u=!0,queueMicrotask(function(){r.forEach(function(n){return n()}),r.clear(),u=!1}))}}function f(n,t){return e(n)?new Proxy(n,{get:function(n,o,r){var i=Reflect.get(n,o,r);return null!=t&&t.deep&&e(i)?f(i,t):(c(n,o),i)},set:function(n,e,t,o){if(Reflect.get(n,e,o)===t)return!0;var r=Reflect.set(n,e,t,o);return a(n,e),r}}):n}function l(n,e){var t=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();null==e?this.removeAttribute(t):this.setAttribute(t,e.toString())}exports.Bound=function(n,e){if("method"!==e.kind)throw new Error('@Bound can only be used on methods, not on "'.concat(e.kind,'"'));e.addInitializer(function(){this[e.name]=this[e.name].bind(this)})},exports.Computed=function(n,e){if("field"!==e.kind)throw new Error('@Computed can only be used on fields, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var n=function(n){var e,t=!0,o=function(){t=!0,a(r,"value")},r=f({get value(){return t&&(i=o,e=n(),i=null,t=!1),c(r,"value"),e}});return r}(this[e.name].bind(this));Object.defineProperty(this,e.name,{get:function(){return n.value}})})},exports.CustomElement=function(n){return function(e,t){if("class"!==t.kind)throw new Error('@CustomElement can only be used on classes, not on "'.concat(t.kind,'"'));t.addInitializer(function(){return customElements.define(n,e)})}},exports.Effect=function(n,e){if("method"!==e.kind)throw new Error('@Effect can only be used on methods, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var e=n.bind(this);queueMicrotask(function(){return i=n=e,n(),void(i=null);var n})})},exports.Inject=function(n){return function(e,o){return"field"===o.kind?function(){return t.get(n)}:"method"===o.kind?function(){for(var o=t.get(n),r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return e.apply(this,[].concat(i,[o]))}:void 0}},exports.Reactive=function(n,e){if("field"!==e.kind)throw new Error('@Reactive can only be used on fields, not on "'.concat(e.kind,'"'));return function(n){return f(n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},exports.Ref=function(n,e){if("field"!==e.kind)throw new Error('@Ref can only be used on fields, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var n=this[e.name],t=f({value:n});Object.defineProperty(this,e.name,{get:function(){return t.value},set:function(n){t.value=n}})})},exports.Reflected=function(n,e){if("field"!==e.kind)throw new Error('@Reflected can only be used on fields, not on "'.concat(e.kind,'"'));e.addInitializer(function(){var n=e.name,t=f({value:this[n]});l.call(this,n,t.value),Object.defineProperty(this,n,{get:function(){return t.value},set:function(e){e!==t.value&&(t.value=e,l.call(this,n,e))}})})},exports.Service=function(n){return function(e,o){if("class"!==o.kind)throw new Error('@Service can only be used on classes, not on "'.concat(o.kind,'"'));t.set(n,new e)}},exports.isObject=e;
//# sourceMappingURL=acejs.cjs.js.map
